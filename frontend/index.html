<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>INFRATEL ITALIA - Registrazione Edifici e TFO</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-italia@2.6.1/dist/css/bootstrap-italia.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""/>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
<div class="container">
    <header class="it-header-wrapper">
      <div class="it-header-slim-wrapper">
        <div class="container-xxl">
          <div class="row">
            <div class="col-12">
              <div class="it-header-slim-wrapper-content">
                <a class="d-none d-lg-block navbar-brand" href="#">INVITALIA</a>
                <div class="nav-mobile">
                  <nav aria-label="Navigazione secondaria">
                    <a class="it-opener d-lg-none" data-bs-toggle="collapse" href="#menuC1" role="button" aria-expanded="false" aria-controls="menuC1">
                      <span>INVITALIA</span>
                      <svg class="icon" aria-hidden="true"><use href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-expand"></use></svg>
                    </a>
                  </nav>
                </div>
                <div class="it-header-slim-right-zone">
                  <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <span class="visually-hidden">Selezione lingua: lingua selezionata</span>
                      <span>ITA</span>
                      <svg class="icon d-none d-lg-block"><use href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-expand"></use></svg>
                    </a>
                    <div class="dropdown-menu">
                      <div class="row">
                        <div class="col-12">
                          <div class="link-list-wrapper">
                            <ul class="link-list">
                              <li><a class="dropdown-item list-item" href="#"><span>ITA <span class="visually-hidden">selezionata</span></span></a></li>
                              <li><a class="dropdown-item list-item" href="#"><span>ENG</span></a></li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="it-access-top-wrapper">
                    <a class="btn btn-primary btn-sm" href="#">Accedi</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="it-nav-wrapper">
        <div class="it-header-center-wrapper">
          <div class="container-xxl">
            <div class="row">
              <div class="col-12">
                <div class="it-header-center-content-wrapper">
                  <div class="it-brand-wrapper">
                    <a href="#">
                      <img class="icon" aria-hidden="true" src="assets/Logo.png"></img>
                      <div class="it-brand-text">
                        <div class="it-brand-title">INFRATEL ITALIA</div>
                        <div class="it-brand-tagline d-none d-md-block">Infratel Italia</div>
                      </div>
                    </a>
                  </div>
                  <div class="it-right-zone">
                     </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="it-header-navbar-wrapper">
          <div class="container-xxl">
            <div class="row">
              <div class="col-12">
                <nav class="navbar navbar-expand-lg has-megamenu" aria-label="Navigazione principale">
                  <button class="custom-navbar-toggler" type="button" aria-controls="navC1" aria-expanded="false" aria-label="Mostra/Nascondi la navigazione" data-bs-toggle="navbarcollapsible" data-bs-target="#navC1">
                    <svg class="icon"><use href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-burger"></use></svg>
                  </button>
                  <div class="navbar-collapsable" id="navC1" style="display: none;">
                    <div class="overlay" style="display: none;"></div>
                    <div class="close-div">
                      <button class="btn close-menu" type="button">
                        <span class="visually-hidden">Nascondi la navigazione</span>
                        <svg class="icon"><use href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-close-big"></use></svg>
                      </button>
                    </div>
                    <div class="menu-wrapper">
                        <ul class="navbar-nav">
                            <li class="nav-item"><a class="nav-link active" href="#" id="navEdifici"><span>Lista Edifici</span></a></li>
                            <li class="nav-item"><a class="nav-link" href="#" id="navTfo"><span>Lista TFO</span></a></li>
                        </ul>
                    </div>
                  </div>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
        <div id="sectionEdifici">
            <div class="form-section">
                <h2>Registrazione degli Edifici Predisposti alla Banda Ultralarga</h2>
                <br>
                <p>Clicca su un edificio nella mappa per popolarne i dati, poi compila i campi mancanti per registrarlo come predisposto.</p>
                <br>
            </div>

            <div class="row">
                <div class="form-group col-md-6">
                    <label class="active" for="formLatitudine">Latitudine</label>
                    <input type="text" class="form-control" id="formLatitudine" readonly>
                </div>
                <div class="form-group col-md-6">
                    <label class="active" for="formLongitudine">Longitudine</label>
                    <input type="text" class="form-control" id="formLongitudine" readonly>
                </div>
            </div>
              <div class="row">
                <div class="form-group col-md-6">
                    <label class="active" for="formDbId">ID Database</label>
                    <input type="text" class="form-control" id="formDbId" readonly>
                </div>
                <div class="form-group col-md-6">
                    <label class="active" for="formObjectId">OBJECTID Originale</label>
                    <input type="text" class="form-control" id="formObjectId" readonly>
                </div>
            </div>
            <div class="form-group">
                <label class="active" for="formEdifcUso">Uso Edificio</label>
                <input type="text" class="form-control" id="formEdifcUso" readonly>
            </div>

            <div id="map"></div>

            <div class="form-section">
                <h3>Dettagli Edificio Selezionato</h3>
                <br>
                <form id="buildingForm">
                    <div class="form-group">
                        <label class="active" for="formIndirizzo">Nome Edificio / Indirizzo</label>
                        <input type="text" class="form-control" id="formIndirizzo" placeholder="Nome edificio oppure Via, n.civico">
                    </div>
                    <div class="form-group">
                        <label class="active" for="formComune">Comune</label>
                        <input type="text" class="form-control" id="formComune" placeholder="Inserisci il comune">
                    </div>
                    <div class="form-group">
                        <label class="active" for="formCodiceBelfiore">Codice Belfiore comune</label>
                        <input type="text" class="form-control" id="formCodiceBelfiore" placeholder="Inserisci il codice Belfiore">
                    </div>
                    <div class="form-group">
                        <label class="active" for="formCodiceCatastale">Codice Catastale particella</label>
                        <input type="text" class="form-control" id="formCodiceCatastale" placeholder="Inserisci il codice catastale">
                    </div>
                    <div class="form-group">
                        <label class="active" for="formDataPredisposizione">Data di predisposizione</label>
                        <input class="form-control" type="date" id="formDataPredisposizione" name="formDataPredisposizione">
                    </div>
                    <div class="py-1">
                        <div class="btn-example">
                            <button type="button" class="btn btn-primary" id="btnSalvaPredisposizione">Salva Predisposizione Edificio</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div id="sectionTfo">
            <h2>REGISTRAZIONI DELLE TERMINAZIONI OTTICHE (TFO)</h2>
            <hr/>

            <div class="form-section">
                <h3>Edifici Predisposti</h3>
                <p>Seleziona un edificio dalla tabella sottostante per aggiungere le relative TFO.</p>
                 <div class="table-responsive">
                    <table class="table table-striped" id="predisposizioniTable">
                        <thead>
                          <tr>
                            <th scope="col">ID Edificio</th>
                            <th scope="col">Nome Edificio / Indirizzo</th>
                            <th scope="col">Comune</th>
                            <th scope="col">Cod.Catastale</th>
                            <th scope="col">Data Pred.</th>
                          </tr>
                        </thead>
                        <tbody id="predisposizioniTableBody">
                          </tbody>
                    </table>
                </div>
                <div class="btn-example py-1">
                    <button type="button" class="btn btn-success" id="btnShowAddTfo">Aggiungi TFO per Edificio Selezionato</button>
                    <button type="button" class="btn btn-primary" id="btnModificaPredisposizione">Modifica Predisposizione</button>
                    <button type="button" class="btn btn-danger ms-2" id="btnEliminaPredisposizione">Elimina Predisposizione</button>
                </div>
            </div>
            <hr/>

            <div class="form-section">
                <h3 id="tfoSectionTitle">Terminazioni Ottiche (TFO)</h3>
                 <div id="formTfoContainer" class="form-section">
                    <form id="tfoForm">
                        <input type="hidden" id="formTfoRowIndex"> <input type="hidden" id="selectedPredisposizioneId">
                        <br><br>
                        <div class="form-group">
                          <label class="active" for="formIndirizzoTfo">Nome Edificio / Indirizzo</label>
                          <input type="text" class="form-control" id="formIndirizzoTfo" readonly>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6">
                                <label class="active" for="formLatitudineTfo">Latitudine</label>
                                <input type="text" class="form-control" id="formLatitudineTfo" readonly>
                            </div>
                            <div class="form-group col-md-6">
                                <label class="active" for="formLongitudineTfo">Longitudine</label>
                                <input type="text" class="form-control" id="formLongitudineTfo" readonly>
                            </div>
                        </div>
                        <div class="form-group">
                          <label class="active" for="formCodiceCatastaleTfo">Codice Catastale Edificio</label>
                          <input type="text" class="form-control" id="formCodiceCatastaleTfo" readonly>
                        </div>
                        <div class="form-group">
                            <label class="active" for="formDataPredisposizioneTfo">Data di Predisposizione TFO</label>
                            <input class="form-control" type="date" id="formDataPredisposizioneTfo" name="formDataPredisposizioneTfo">
                        </div>
                        <div class="form-group">
                          <label class="active" for="formScalaTfo">Scala</label>
                          <input type="text" class="form-control" id="formScalaTfo" placeholder="Inserisci la scala">
                        </div>
                        <div class="form-group">
                          <label class="active" for="formPianoTfo">Piano</label>
                          <input type="text" class="form-control" id="formPianoTfo" placeholder="Inserisci il numero del piano">
                        </div>
                        <div class="form-group">
                          <label class="active" for="formInternoTfo">Interno</label>
                          <input type="text" class="form-control" id="formInternoTfo" placeholder="Inserisci l'interno">
                        </div>
                        <div class="form-group">
                          <label class="active" for="formIdOperatoreTfo">Identificativo Operatore</label>
                          <input type="text" class="form-control" id="formIdOperatoreTfo" placeholder="ID operatore telefonico">
                        </div>
                        <div class="form-group">
                          <label class="active" for="formCodiceTfo">Codice Identificativo Terminazioni Ottiche</label>
                          <input type="text" class="form-control" id="formCodiceTfo" placeholder="ES: T00231">
                        </div>
                        <div class="form-group">
                          <label class="active" for="formCodiceRoeTfo">Codice Identificativo ROE</label>
                          <input type="text" class="form-control" id="formCodiceRoeTfo" placeholder="ES: ROE_007">
                        </div>
                        <div class="btn-example py-3">
                            <button type="button" class="btn btn-primary" id="btnSalvaTfo">Salva TFO</button>
                            <button type="button" class="btn btn-secondary" id="btnAnnullaTfo">Annulla</button>
                        </div>
                    </form>
                </div>

                <div id="tfoTableContainer">
                    <p>Nessun edificio predisposto selezionato o nessuna TFO ancora inserita per l'edificio selezionato.</p>
                    <div class="table-responsive">
                        <table class="table table-striped" id="tfoTable" style="display:none;">
                            <thead>
                              <tr>
                                <th scope="col">Scala</th>
                                <th scope="col">Piano</th>
                                <th scope="col">Interno</th>
                                <th scope="col">Data predisposizione TFO</th>
                                <th scope="col">ID Operatore</th>
                                <th scope="col">Codice TFO</th>
                                <th scope="col">Codice ROE</th>
                              </tr>
                            </thead>
                            <tbody id="tfoTableBody">
                              </tbody>
                        </table>
                    </div>
                    <div class="btn-example py-1 mt-2" id="tfoActionButtons" style="display:none;">
                        <button type="button" class="btn btn-primary" id="btnModificaTfo">Modifica TFO Selezionata</button>
                        <button type="button" class="btn btn-danger btn-sm" id="btnEliminaTfo">Elimina TFO Selezionata</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="it-footer">
        </footer>

</div>

<div class="modal fade" tabindex="-1" role="dialog" id="genericModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="genericModalTitle">Titolo</h5>
        <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Chiudi finestra modale">
          <svg class="icon"><use href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-close"></use></svg>
        </button>
      </div>
      <div class="modal-body">
        <p id="genericModalBody">Contenuto del messaggio.</p>
      </div>
      <div class="modal-footer">
         <button class="btn btn-primary" type="button" data-bs-dismiss="modal">Chiudi</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="confirmModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="confirmModalTitle">Conferma</h5>
         <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Chiudi finestra modale">
           <svg class="icon"><use href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-close"></use></svg>
         </button>
      </div>
      <div class="modal-body">
        <p id="confirmModalBody">Sei sicuro?</p>
      </div>
      <div class="modal-footer">
        <button id="confirmModalCancelBtn" class="btn btn-secondary" type="button" data-bs-dismiss="modal">Annulla</button>
        <button id="confirmModalConfirmBtn" class="btn btn-primary" type="button">Conferma</button>
      </div>
    </div>
  </div>
</div>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-italia@2.6.1/dist/js/bootstrap-italia.bundle.min.js"></script>
<script src="js/map_logic.js"></script>
<script src="js/forms.js"></script>
</body>
<footer class="it-footer">
  <div class="it-footer-main">
    <div class="container">
      <section>
        <div class="row clearfix">
          <div class="col-sm-12">
            <div class="it-brand-wrapper">
              <a href="#" data-focus-mouse="false">
                <svg class="icon"><use xlink:href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-code-circle"></use></svg>
                <div class="it-brand-text">
                  <a href="#">
                      <img class="icon" aria-hidden="true" src="assets/Logo.png"></img>
                  <h2>INFRATEL ITALIA</h2>
                  <h3 class="d-none d-md-block">Infratel Italia</h3>
                </div>
              </a>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <div class="col-lg-3 col-md-3 col-sm-6 pb-2">
            <h4>
              <a href="#" title="Vai alla pagina: Amministrazione">Amministrazione</a>
            </h4>
            <div class="link-list-wrapper">
              <ul class="footer-list link-list clearfix">
                <li><a class="list-item" href="#">Giunta e consiglio</a></li>
                <li><a class="list-item" href="#">Aree di competenza</a></li>
                <li><a class="list-item" href="#">Dipendenti</a></li>
                <li><a class="list-item" href="#">Luoghi</a></li>
                <li><a class="list-item" href="#">Associazioni e società partecipate</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-6 pb-2">
            <h4>
              <a href="#" title="Vai alla pagina: Servizi">Servizi</a>
            </h4>
            <div class="link-list-wrapper">
              <ul class="footer-list link-list clearfix">
                <li><a class="list-item" href="#">Pagamenti</a></li>
                <li><a class="list-item" href="#">Sostegno</a></li>
                <li><a class="list-item" href="#">Domande e iscrizioni</a></li>
                <li><a class="list-item" href="#">Segnalazioni</a></li>
                <li><a class="list-item" href="#">Autorizzazioni e concessioni</a></li>
                <li><a class="list-item" href="#">Certificati e dichiarazioni</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-6 pb-2">
            <h4>
              <a href="#" title="Vai alla pagina: Novità">Novità</a>
            </h4>
            <div class="link-list-wrapper">
              <ul class="footer-list link-list clearfix">
                <li><a class="list-item" href="#">Notizie</a></li>
                <li><a class="list-item" href="#">Eventi</a></li>
                <li><a class="list-item" href="#">Comunicati stampa</a></li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-6">
            <h4>
              <a href="#" title="Vai alla pagina: Documenti">Documenti</a>
            </h4>
            <div class="link-list-wrapper">
              <ul class="footer-list link-list clearfix">
                <li><a class="list-item" href="#">Progetti e attività</a></li>
                <li><a class="list-item" href="#">Delibere, determine e ordinanze</a></li>
                <li><a class="list-item" href="#">Bandi</a></li>
                <li><a class="list-item" href="#">Concorsi</a></li>
                <li><a class="list-item" href="#">Albo pretorio</a></li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      <section class="py-4 border-white border-top">
        <div class="row">
          <div class="col-lg-4 col-md-4 pb-2">
            <h4>Contatti</h4>
            <p>
              <strong>Comune di Bafile</strong><br>
              Via Bafile, 69 - 00667 Infratel Italia <br>Codice fiscale / P. IVA: 123456789
            </p>
            <div class="link-list-wrapper">
              <ul class="footer-list link-list clearfix">
                <li><a class="list-item" href="#">Posta Elettronica Certificata</a></li>
                <li>
                  <a class="list-item" href="#">URP - Ufficio Relazioni con il Pubblico</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-lg-4 col-md-4 pb-2">
            <h4>INFRATEL ITALIA</h4>
          </div>
          <div class="col-lg-4 col-md-4 pb-2">
            <div class="pb-2">
              <h4>Seguici su</h4>
              <ul class="list-inline text-left social">
                <li class="list-inline-item">
                  <a class="p-2 text-white" href="#"><svg class="icon icon-sm icon-white align-top"><use xlink:href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-designers-italia"></use></svg><span class="visually-hidden">Designers Italia </span></a>
                </li>
                <li class="list-inline-item">
                  <a class="p-2 text-white" href="#"><svg class="icon icon-sm icon-white align-top"><use xlink:href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-twitter"></use></svg><span class="visually-hidden">X </span></a>
                </li>
                <li class="list-inline-item">
                  <a class="p-2 text-white" href="#"><svg class="icon icon-sm icon-white align-top"><use xlink:href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-medium"></use></svg><span class="visually-hidden">Medium</span></a>
                </li>
                <li class="list-inline-item">
                  <a class="p-2 text-white" href="#"><svg class="icon icon-sm icon-white align-top"><use xlink:href="https://italia.github.io/bootstrap-italia/dist/svg/sprites.svg#it-behance"></use></svg><span class="visually-hidden">Behance </span></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  <div class="it-footer-small-prints clearfix">
    <div class="container">
      <!-- <h3 class="visually-hidden">Sezione Link Utili</h3> -->
      <ul class="it-footer-small-prints-list list-inline mb-0 d-flex flex-column flex-md-row">
        <li class="list-inline-item"><a href="#">Media policy</a></li>
        <li class="list-inline-item"><a href="#">Note legali</a></li>
        <li class="list-inline-item"><a href="#">Privacy policy</a></li>
        <li class="list-inline-item"><a href="#">Mappa del sito</a></li>
        <li class="list-inline-item"><a href="https://form.agid.gov.it/view/xyz">Dichiarazione di accessibilità <span class="visually-hidden"></span></a></li>
      </ul>
    </div>
  </div>
</footer>
</html>